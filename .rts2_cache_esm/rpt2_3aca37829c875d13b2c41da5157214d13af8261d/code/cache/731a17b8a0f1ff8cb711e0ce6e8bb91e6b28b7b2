{"code":"import React from 'react';\r\nimport { useIdentityContext } from 'react-netlify-identity';\r\nimport useLoading from '../useLoading';\r\nimport VisuallyHidden from '@reach/visually-hidden';\r\nexport function Login({ onLogin }) {\r\n    const { loginUser } = useIdentityContext();\r\n    const formRef = React.useRef(null);\r\n    const [msg, setMsg] = React.useState('');\r\n    const [isLoading, load] = useLoading();\r\n    return (React.createElement(\"form\", { ref: formRef, className: \"form\", onSubmit: (e) => {\r\n            e.preventDefault();\r\n            const target = e.target;\r\n            const email = target.email.value;\r\n            const password = target.password.value;\r\n            load(loginUser(email, password, true))\r\n                .then((user) => {\r\n                if (process.env.NODE_ENV !== 'production')\r\n                    console.log('Success! Logged in', user);\r\n                if (onLogin)\r\n                    onLogin(user);\r\n            })\r\n                .catch((err) => void console.error(err) || setMsg('Error: ' + err.message));\r\n        } },\r\n        React.createElement(\"div\", { className: \"formGroup\", key: \"email\" },\r\n            React.createElement(\"label\", null,\r\n                React.createElement(VisuallyHidden, null, \"Enter your email\"),\r\n                React.createElement(\"input\", { className: \"formControl\", type: \"email\", name: \"email\", placeholder: \"Email\", autoCapitalize: \"off\", required: true }),\r\n                React.createElement(\"div\", { className: \"inputFieldIcon inputFieldEmail\" }))),\r\n        React.createElement(\"div\", { className: \"formGroup\", key: \"password\" },\r\n            React.createElement(\"label\", null,\r\n                React.createElement(VisuallyHidden, null, \"Enter your password\"),\r\n                React.createElement(\"input\", { className: \"formControl\", type: \"password\", name: \"password\", placeholder: \"Password\", required: true }),\r\n                React.createElement(\"div\", { className: \"inputFieldIcon inputFieldPassword\" }))),\r\n        React.createElement(\"div\", null,\r\n            React.createElement(\"button\", { type: \"submit\", className: isLoading ? 'btn saving' : 'btn' }, \"Log in\"),\r\n            msg && React.createElement(\"pre\", { style: { background: 'salmon', padding: 10 } }, msg)),\r\n        React.createElement(\"button\", { type: \"button\", className: \"btnLink forgotPasswordLink\" }, \"Forgot password?\")));\r\n}\r\n//# sourceMappingURL=login.js.map","references":["/Users/swyx/Netlify/react-netlify-identity-widget/node_modules/@types/react/index.d.ts","/Users/swyx/Netlify/react-netlify-identity-widget/node_modules/react-netlify-identity/dist/index.d.ts","/Users/swyx/Netlify/react-netlify-identity-widget/src/useLoading.tsx"],"map":"{\"version\":3,\"file\":\"login.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../src/components/login.tsx\"],\"names\":[],\"mappings\":\"AAAA,OAAO,KAAK,MAAM,OAAO,CAAA;AACzB,OAAO,EAAE,kBAAkB,EAAQ,MAAM,wBAAwB,CAAA;AACjE,OAAO,UAAU,MAAM,eAAe,CAAA;AACtC,OAAO,cAAc,MAAM,wBAAwB,CAAA;AAMnD,MAAM,UAAU,KAAK,CAAC,EAAE,OAAO,EAAc;IAC3C,MAAM,EAAE,SAAS,EAAE,GAAG,kBAAkB,EAAE,CAAA;IAC1C,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,CAAkB,IAAI,CAAC,CAAA;IACnD,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,KAAK,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;IACxC,MAAM,CAAC,SAAS,EAAE,IAAI,CAAC,GAAG,UAAU,EAAE,CAAA;IACtC,OAAO,CACL,8BACE,GAAG,EAAE,OAAO,EACZ,SAAS,EAAC,MAAM,EAChB,QAAQ,EAAE,CAAC,CAAuB,EAAE,EAAE;YACpC,CAAC,CAAC,cAAc,EAAE,CAAA;YAClB,MAAM,MAAM,GAAG,CAAC,CAAC,MAAqF,CAAA;YACtG,MAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAA;YAChC,MAAM,QAAQ,GAAG,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAA;YACtC,IAAI,CAAC,SAAS,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;iBACnC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;gBACb,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,KAAK,YAAY;oBAAE,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAE,IAAI,CAAC,CAAA;gBAClF,IAAI,OAAO;oBAAE,OAAO,CAAC,IAAI,CAAC,CAAA;YAC5B,CAAC,CAAC;iBACD,KAAK,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,KAAK,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,MAAM,CAAC,SAAS,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAA;QAC/E,CAAC;QAED,6BAAK,SAAS,EAAC,WAAW,EAAC,GAAG,EAAC,OAAO;YACpC;gBACE,oBAAC,cAAc,2BAAkC;gBACjD,+BACE,SAAS,EAAC,aAAa,EACvB,IAAI,EAAC,OAAO,EACZ,IAAI,EAAC,OAAO,EACZ,WAAW,EAAC,OAAO,EACnB,cAAc,EAAC,KAAK,EACpB,QAAQ,EAAE,IAAI,GACd;gBACF,6BAAK,SAAS,EAAC,gCAAgC,GAAG,CAC5C,CACJ;QACN,6BAAK,SAAS,EAAC,WAAW,EAAC,GAAG,EAAC,UAAU;YACvC;gBACE,oBAAC,cAAc,8BAAqC;gBACpD,+BAAO,SAAS,EAAC,aAAa,EAAC,IAAI,EAAC,UAAU,EAAC,IAAI,EAAC,UAAU,EAAC,WAAW,EAAC,UAAU,EAAC,QAAQ,EAAE,IAAI,GAAI;gBACxG,6BAAK,SAAS,EAAC,mCAAmC,GAAG,CAC/C,CACJ;QAEN;YACE,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAE,SAAS,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,KAAK,aAExD;YACR,GAAG,IAAI,6BAAK,KAAK,EAAE,EAAE,UAAU,EAAE,QAAQ,EAAE,OAAO,EAAE,EAAE,EAAE,IAAG,GAAG,CAAO,CAClE;QACN,gCAAQ,IAAI,EAAC,QAAQ,EAAC,SAAS,EAAC,4BAA4B,uBAEnD,CACJ,CACR,CAAA;AACH,CAAC\"}","dts":{"name":"/Users/swyx/Netlify/react-netlify-identity-widget/src/components/login.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nimport { User } from 'react-netlify-identity';\r\ndeclare type LoginProps = {\r\n    onLogin?: (user?: User) => void;\r\n};\r\nexport declare function Login({ onLogin }: LoginProps): JSX.Element;\r\nexport {};\r\n"}}
